<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Prescrição Memed</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    #frame-container {
      width: 100vw;
      height: 100vh;
      border: 0;
    }

    #abrirMemed {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 10;
      padding: 8px 16px;
    }
  </style>
</head>

<body>
  <!-- Exemplo: iframe abrindo a própria página de embed com dados na URL -->
  <iframe
    id="frame-container"
    src="https://rafaellaerbella-dev.github.io/?nome=Rafael+Falk+Giannotti&cpf=45528090830&telefone=11970399942&idExterno=2&endereco=Rua+Inhambu%2C+973+-+Apto+53A+-+Vila+Uberabinha+-+Sao+Paulo%2FSP+-+CEP+04520-013"
  ></iframe>

  <!-- Botão opcional para recarregar a prescrição (pode tirar se não quiser) -->
  <button id="abrirMemed">Recarregar prescrição</button>

  <script>
    const FRAME_URL_BASE = "https://rafaellaerbella-dev.github.io/";

    // Função que monta a URL com base nos parâmetros atuais da barra de endereço
    function montarUrlIframe() {
      const params = new URLSearchParams(window.location.search);

      const nome =
        params.get("nome") || "Rafael Falk Giannotti";
      const cpf = params.get("cpf") || "45528090830";
      const telefone =
        params.get("telefone") || "11970399942";
      const idExterno = params.get("idExterno") || "2";
      const endereco =
        params.get("endereco") ||
        "Rua Inhambu, 973 - Apto 53A - Vila Uberabinha - Sao Paulo/SP - CEP 04520-013";

      const url = new URL(FRAME_URL_BASE);
      url.searchParams.set("nome", nome);
      url.searchParams.set("cpf", cpf);
      url.searchParams.set("telefone", telefone);
      url.searchParams.set("idExterno", idExterno);
      url.searchParams.set("endereco", endereco);

      return url.toString();
    }

    // Inicializa o iframe com base na URL (ou no exemplo padrão)
    const iframe = document.getElementById("frame-container");
    iframe.src = montarUrlIframe();

    // Se clicar no botão, recarrega o iframe (útil se a URL mudar)
    document
      .getElementById("abrirMemed")
      .addEventListener("click", () => {
        iframe.src = montarUrlIframe();
      });
  </script>
</body>
</html>
